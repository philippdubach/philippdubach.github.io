{{/* Open Graph implementation */}}
<meta property="og:title" content="{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}">
<meta property="og:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
<meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:site_name" content="{{ .Site.Params.site_name | default .Site.Title }}">
<meta property="og:locale" content="{{ .Site.Params.locale | default "en_US" }}">
<meta property="og:logo" content="{{ .Site.BaseURL }}icons/favicon.ico">

{{/* Open Graph Image - handles multiple formats */}}
{{ $image := "" }}
{{ if .Params.images }}
    {{/* Handle images array (your format) */}}
    {{ $image = index .Params.images 0 }}
    {{/* Ensure absolute URL for Open Graph */}}
    {{ if not (hasPrefix $image "http") }}
        {{ $image = $image | absURL }}
    {{ end }}
{{ else if .Params.image }}
    {{/* Handle single image field */}}
    {{ $image = .Params.image | absURL }}
{{ else if .Site.Params.default_image }}
    {{/* Fallback to site default */}}
    {{ $image = .Site.Params.default_image }}
{{ end }}

{{ if $image }}
<meta property="og:image" content="{{ $image }}">
<meta property="og:image:secure_url" content="{{ $image }}">
<meta property="og:image:url" content="{{ $image }}">
{{ if hasSuffix $image ".jpg" }}
<meta property="og:image:type" content="image/jpeg">
{{ else if hasSuffix $image ".png" }}
<meta property="og:image:type" content="image/png">
{{ else if hasSuffix $image ".webp" }}
<meta property="og:image:type" content="image/webp">
{{ else }}
<meta property="og:image:type" content="image/jpeg">
{{ end }}
{{ end }}

{{/* Article-specific Open Graph tags */}}
{{ if .IsPage }}
<meta property="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
<meta property="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}">
{{ if .Params.author }}
<meta property="article:author" content="{{ .Params.author }}">
{{ end }}
{{ if .Section }}
<meta property="article:section" content="{{ .Section }}">
{{ end }}
{{ range .Params.tags }}
<meta property="article:tag" content="{{ . }}">
{{ end }}
{{ end }}